@using Sitecore.XA.Foundation.SitecoreExtensions.Extensions
@using Sitecore.XA.Foundation.MarkupDecorator.Extensions
@using Sitecore.ExperienceForms.Mvc.Html


@model Sitecore.XA.Foundation.DynamicPlaceholders.Models.DynamicPlaceholdersRenderingModel

@{
    const string placeholderKeyPrefix = "sitecoreFormsWrapper";
    var key = string.Format("{0}-{1}", placeholderKeyPrefix, Model.Id);
}

<div @Html.Sxa().Component(Model.Rendering.RenderingCssClass ?? "sitecore-form", Model.Attributes)>
    <div class="component-content">
        @Html.Sitecore().Placeholder(key)
        <script>
            var decodeHTML = function (html) {
                var txt = document.createElement('textarea');
                txt.innerHTML = html;
                return txt.value;
            };
            if (!document.getElementById('scFormResources')) {
                var resources = '<span id="scFormResources" style="display: none;">@Html.RenderFormStyles().ToString().Replace(System.Environment.NewLine, "") @Html.RenderFormScripts().ToString().Replace(System.Environment.NewLine, "")</span>';
                document.write(decodeHTML(resources));
            }
        </script>
    </div>
</div>

